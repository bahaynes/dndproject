import"../chunks/DsnmJJEf.js";import{i as q}from"../chunks/BJ4eLQ_E.js";import{p as D,f as y,j as s,a as x,b as R,s as i,c as a,r,m as f,n as T,h as l,k as A}from"../chunks/BQgaxF8b.js";import{e as C,s as F}from"../chunks/DZdyVSBA.js";import{i as O}from"../chunks/Dw9ZWyUX.js";import{b as w,r as _,p as z}from"../chunks/B2X3mx8k.js";import{a as B}from"../chunks/DETFAPFB.js";import{g as E}from"../chunks/Dbi8v1WO.js";var G=y('<p class="text-red-500 text-xs mt-2"> </p>'),H=y('<div class="flex items-center justify-center min-h-screen bg-gray-100"><div class="px-8 py-6 mt-4 text-left bg-white shadow-lg rounded-lg"><h3 class="text-2xl font-bold text-center">Login to your account</h3> <form><div class="mt-4"><div><label class="block" for="username">Username</label> <input type="text" placeholder="Username" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <div class="mt-4"><label class="block" for="password">Password</label> <input type="password" placeholder="Password" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <!> <div class="flex items-baseline justify-between"><button class="px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900">Login</button> <a href="/register" class="text-sm text-blue-600 hover:underline">Register</a></div></div></form></div></div>');function X(k,j){D(j,!1);let n=f(""),d=f(""),o=f(null);async function P(){l(o,null);try{const e=await fetch("http://localhost:8000/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:s(n),password:s(d)})});if(e.ok){const t=await e.json();B.login(t.access_token),await E("/dashboard")}else{const t=await e.json();l(o,t.detail||"Failed to login")}}catch(e){l(o,"An unexpected error occurred."),console.error(e)}}q();var c=H(),v=a(c),u=i(a(v),2),b=a(u),p=a(b),h=i(a(p),2);_(h),r(p);var m=i(p,2),g=i(a(m),2);_(g),r(m);var L=i(m,2);{var S=e=>{var t=G(),U=a(t,!0);r(t),A(()=>F(U,s(o))),x(e,t)};O(L,e=>{s(o)&&e(S)})}T(2),r(b),r(u),r(v),r(c),w(h,()=>s(n),e=>l(n,e)),w(g,()=>s(d),e=>l(d,e)),C("submit",u,z(P)),x(k,c),R()}export{X as component};
