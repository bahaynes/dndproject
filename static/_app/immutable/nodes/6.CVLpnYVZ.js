import"../chunks/DsnmJJEf.js";import{i as H}from"../chunks/BJ4eLQ_E.js";import{p as I,f as j,k as P,j as r,a as k,b as K,s,h as o,m as n,c as t,r as a,n as L}from"../chunks/BQgaxF8b.js";import{e as Q,s as U}from"../chunks/DZdyVSBA.js";import{i as F}from"../chunks/Dw9ZWyUX.js";import{b as c,r as p,p as V}from"../chunks/B2X3mx8k.js";import{g as W}from"../chunks/Dbi8v1WO.js";var X=j('<p class="text-red-500 text-xs mt-2"> </p>'),Y=j('<p class="text-green-500 text-xs mt-2"> </p>'),Z=j('<div class="flex items-center justify-center min-h-screen bg-gray-100"><div class="px-8 py-6 mt-4 text-left bg-white shadow-lg rounded-lg"><h3 class="text-2xl font-bold text-center">Create an account</h3> <form><div class="mt-4"><div><label class="block" for="username">Username</label> <input type="text" placeholder="Username" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <div class="mt-4"><label class="block" for="email">Email</label> <input type="email" placeholder="Email" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <div class="mt-4"><label class="block" for="password">Password</label> <input type="password" placeholder="Password" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <div class="mt-4"><label class="block" for="confirmPassword">Confirm Password</label> <input type="password" placeholder="Confirm Password" class="w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600" required/></div> <!> <!> <div class="flex items-baseline justify-between"><button class="px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900">Register</button> <a href="/login" class="text-sm text-blue-600 hover:underline">Already have an account?</a></div></div></form></div></div>');function le(J,M){I(M,!1);let m=n(""),f=n(""),u=n(""),v=n(""),i=n(null),d=n(null);async function N(){if(o(i,null),o(d,null),r(u)!==r(v)){o(i,"Passwords do not match!");return}try{const e=await fetch("http://localhost:8000/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r(m),email:r(f),password:r(u)})});if(e.ok)o(d,"Registration successful! Redirecting to login..."),setTimeout(()=>{W("/login")},2e3);else{const l=await e.json();o(i,l.detail||"Failed to register")}}catch(e){o(i,"An unexpected error occurred."),console.error(e)}}H();var b=Z(),q=t(b),g=s(t(q),2),C=t(g),x=t(C),R=s(t(x),2);p(R),a(x);var h=s(x,2),S=s(t(h),2);p(S),a(h);var _=s(h,2),T=s(t(_),2);p(T),a(_);var w=s(_,2),A=s(t(w),2);p(A),a(w);var D=s(w,2);{var z=e=>{var l=X(),y=t(l,!0);a(l),P(()=>U(y,r(i))),k(e,l)};F(D,e=>{r(i)&&e(z)})}var E=s(D,2);{var B=e=>{var l=Y(),y=t(l,!0);a(l),P(()=>U(y,r(d))),k(e,l)};F(E,e=>{r(d)&&e(B)})}var O=s(E,2),G=t(O);L(2),a(O),a(C),a(g),a(q),a(b),P(()=>G.disabled=!!r(d)),c(R,()=>r(m),e=>o(m,e)),c(S,()=>r(f),e=>o(f,e)),c(T,()=>r(u),e=>o(u,e)),c(A,()=>r(v),e=>o(v,e)),Q("submit",g,V(N)),k(J,b),K()}export{le as component};
